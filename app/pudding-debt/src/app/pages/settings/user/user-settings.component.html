<div class="user-settings">
	<mat-card>
		<mat-card-header>
			<mat-icon mat-card-avatar>person</mat-icon>
			<mat-card-title class="title">Account</mat-card-title>
		</mat-card-header>
		<mat-card-content>
			<div>
				<form [formGroup]="editUserForm" (ngSubmit)="editUser()">
					<div class="setting-row">
						<span [class.user-padding]="!editMode">
							Username:
						</span>
						<span *ngIf="!editMode" class="user-details user-padding">
							{{ editUserForm.get('username').value }}
						</span>
						<mat-form-field *ngIf="editMode" appearance="fill">
							<input type="text" matInput placeholder="Username" formControlName="username" />
							<mat-error *ngIf="editUserForm.get('username')?.invalid">Username required</mat-error>
						</mat-form-field>
					</div>
					<div class="setting-row">
						<span [class.user-padding]="!editMode">
							First name:
						</span>
						<span *ngIf="!editMode" class="user-details user-padding">
							{{ editUserForm.get('firstName').value }}
						</span>
						<mat-form-field *ngIf="editMode" appearance="fill">
							<input type="text" matInput placeholder="First name" formControlName="firstName" />
							<mat-error *ngIf="editUserForm.get('firstName')?.invalid">First name required</mat-error>
						</mat-form-field>
					</div>
					<div class="setting-row">
						<span [class.user-padding]="!editMode">
							Last name:
						</span>
						<span *ngIf="!editMode" class="user-details user-padding">
							{{ editUserForm.get('lastName').value }}
						</span>
						<mat-form-field *ngIf="editMode">
							<input type="text" matInput placeholder="Last name" formControlName="lastName" />
							<mat-error *ngIf="editUserForm.get('lastName')?.invalid">Last name invalid</mat-error>
						</mat-form-field>
					</div>
					<div class="setting-row">
						<span [class.user-padding]="!editMode">
							Email:
						</span>
						<span *ngIf="!editMode" class="user-details user-padding">
							{{ editUserForm.get('email').value }}
						</span>
						<mat-form-field *ngIf="editMode">
							<input type="text" matInput placeholder="Email" formControlName="email" />
							<mat-error *ngIf="editUserForm.get('email')?.invalid">Invalid email</mat-error>
						</mat-form-field>
					</div>
					<div class="setting-row">
						<span [class.user-padding]="!editMode">
							Phone number:
						</span>
						<span *ngIf="!editMode" class="user-details user-padding">
							{{ editUserForm.get('phone').value }}
						</span>
						<mat-form-field *ngIf="editMode">
							<input type="text" matInput placeholder="Phonenumber" formControlName="phone" />
							<mat-error *ngIf="editUserForm.get('phone')?.invalid">Invalid phonenumber</mat-error>
						</mat-form-field>
					</div>
					<br />
					<mat-card-actions class="setting-row">
						<button *ngIf="!editMode" type="button" mat-raised-button color="primary" (click)="toggleEditMode()">
							<mat-icon>edit</mat-icon>
							Edit
						</button>
						<div>
							<button *ngIf="editMode" type="button" mat-button color="accent" (click)="toggleEditMode()" class="user-settings-actions">
								Cancel
							</button>
							<button *ngIf="editMode" type="submit" mat-raised-button color="primary">
								<mat-icon>check_cirle</mat-icon>
								Save changes
							</button>
						</div>
						<button *ngIf="!editMode" type="button" mat-button color="warn" (click)="deleteUser()">
							<mat-icon>delete</mat-icon>
							Delete account
						</button>
					</mat-card-actions>
				</form>
			</div>
		</mat-card-content>
	</mat-card>
</div>
